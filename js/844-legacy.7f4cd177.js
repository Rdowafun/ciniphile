"use strict";(self["webpackChunkciniphile"]=self["webpackChunkciniphile"]||[]).push([[844],{1689:function(n,t,e){e.d(t,{Z:function(){return M}});var o=e(3396),i=e(7139),a={class:"container"},r={class:"main__content"},c={class:"main__content-title"},l={class:"main__content-list"},s={key:0,class:"loading"},u=(0,o._)("div",{class:"loading__spiner"},null,-1),p=[u];function d(n,t,e,u,d,m){var v=(0,o.up)("ContentItem");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",r,[(0,o._)("h2",c,(0,i.zw)("movie"==e.content?"Все фильмы":"Все сериалы"),1),(0,o._)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.allContent,(function(n){return(0,o.wg)(),(0,o.j4)(v,{key:n.id,item:n,content:e.content},null,8,["item","content"])})),128))])]),d.loading?((0,o.wg)(),(0,o.iD)("div",s,p)):(0,o.kq)("",!0)])}var m=e(124),v=e(9584),g=e(8534),_=e(5082),w=(e(2222),e(8309),{alt:"",class:"main__content-img"}),f={class:"main__content-name"};function h(n,t,e,a,r,c){var l=(0,o.up)("router-link"),s=(0,o.Q2)("lazy");return(0,o.wg)(),(0,o.j4)(l,{to:"".concat(e.content,"/").concat(e.item.id),class:"main__content-item"},{default:(0,o.w5)((function(){return[(0,o.wy)((0,o._)("img",w,null,512),[[s,n.imageFullUrL+e.item.backdrop_path]]),(0,o._)("h2",f,(0,i.zw)(e.item.title||e.item.name),1)]})),_:1},8,["to"])}var C=e(65),Z={props:["content","item"],computed:(0,_.Z)({},(0,C.rn)(["imageFullUrL"]))},k=e(89);const y=(0,k.Z)(Z,[["render",h]]);var b=y,L={components:{ContentItem:b},props:["content"],data:function(){return{page:1,loading:!1,allContent:[]}},mounted:function(){var n=this;window.addEventListener("scroll",(function(){window.scrollY+window.innerHeight>=document.body.scrollHeight&&n.getContent()})),this.getContent()},computed:(0,_.Z)((0,_.Z)({},(0,C.rn)("popularMovies",["popularMovies"])),(0,C.rn)("popularTvs",["popularTvs"])),methods:{getContent:function(){var n=this;return(0,g.Z)((0,m.Z)().mark((function t(){var e,o,i;return(0,m.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.loading){t.next=9;break}return n.loading=!0,o="movie"==n.content?"popularMovies/getPopular":"popularTvs/getPopular",t.next=5,n.$store.dispatch("".concat(o),n.page);case 5:i="movie"==n.content?n.popularMovies:n.popularTvs,(e=n.allContent).push.apply(e,(0,v.Z)(i)),n.loading=!1,n.page++;case 9:case"end":return t.stop()}}),t)})))()}}};const D=(0,k.Z)(L,[["render",d]]);var M=D},5844:function(n,t,e){e.r(t),e.d(t,{default:function(){return u}});var o=e(3396),i={class:"main"};function a(n,t,e,a,r,c){var l=(0,o.up)("ContentList");return(0,o.wg)(),(0,o.iD)("main",i,[(0,o.Wm)(l,{content:"tv"})])}var r=e(1689),c={components:{ContentList:r.Z}},l=e(89);const s=(0,l.Z)(c,[["render",a]]);var u=s}}]);